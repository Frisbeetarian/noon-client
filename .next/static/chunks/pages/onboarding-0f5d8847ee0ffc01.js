(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{7333:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding",function(){return n(2440)}])},42:function(e,r,n){"use strict";n.d(r,{U:function(){return x}});var t=n(5893),i=n(17),o=n(9887),s=n(6729),l=n(6618),a=n(4496),c=n(2175);n(7294);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function f(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){d(e,r,n[r])}))}return e}function h(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);s=!0);}catch(a){l=!0,i=a}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(e){var r,n=e.label,u=e.textarea,d=(e.size,h(e,["label","textarea","size"]));r=u?i.g:o.I;var x=m((0,c.U$)(d),2),p=x[0],g=x[1].error;return(0,t.jsxs)(s.NI,{isInvalid:!!g,children:[(0,t.jsx)(l.l,{htmlFor:p.name,children:n}),(0,t.jsx)(r,f({},p,d,{id:p.name,placeholder:d.placeholder})),g?(0,t.jsx)(a.J,{children:g}):null]})}},2440:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return R}});var t=n(4051),i=n.n(t),o=n(5893),s=n(4096),l=n(234),a=n(336),c=n(8017),u=n(6729),d=n(3743),f=n(9444),h=n(8530),m=n(4115),x=n(6618),p=n(8488),g=n(3955),b=n(9887),j=n(1325),y=n(7294),v=n(4034),w=n(5830),S=n(7787),O=function(e){var r={};return e.forEach((function(e){var n=e.field,t=e.message;r[n]=t})),r},q=n(2175),N=n(9402),k=n(1163),E=n(42),_=n(4231),I=n(7786);function P(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function A(e,r,n,t,i,o,s){try{var l=e[o](s),a=l.value}catch(c){return void n(c)}l.done?r(a):Promise.resolve(a).then(t,i)}function U(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var o=e.apply(r,n);function s(e){A(o,t,i,s,l,"next",e)}function l(e){A(o,t,i,s,l,"throw",e)}s(void 0)}))}}function z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,o=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);s=!0);}catch(a){l=!0,i=a}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return P(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=_.Ry().shape({username:_.Z_().min(3,"Too Short!").max(50,"Too Long!").required("Username is required"),email:_.Z_().email("Invalid email").required("Email is required"),password:_.Z_().min(4,"Password is too short").max(120,"Password is too long").required("Password is required")}),R=(0,j.X)(v.M,{ssr:!0})((function(){var e=(0,k.useRouter)(),r=z((0,N.YA)(),2)[1],n=z((0,N.l4)(),2)[1],t=(0,y.useState)(!1),j=t[0],v=t[1],_=(0,y.useState)(!1),P=_[0],A=_[1],R=(0,y.useState)(!0),C=R[0],T=R[1],X=(0,y.useState)(!1),L=X[0],F=X[1],J=z((0,N.UE)({pause:(0,I.s)(),requestPolicy:"network-only"}),1)[0],M=J.data,W=J.fetching;return(0,y.useEffect)((function(){var r;(null===M||void 0===M||null===(r=M.me)||void 0===r?void 0:r.username)&&e.replace("/noon")}),[M]),(0,o.jsxs)(s.k,{className:"flex-col justify-center items-center bg-black text-white h-screen",children:[(0,o.jsx)("p",{className:"fixed top-12 text-5xl",children:"NOON"}),W?(0,o.jsx)("div",{children:"loading..."}):(0,o.jsxs)(s.k,{minH:"100%",align:"center",justify:"center",children:[(0,o.jsxs)(l.Kq,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,hidden:!P,children:[(0,o.jsx)(l.Kq,{align:"center",children:(0,o.jsx)(a.X,{fontSize:"4xl",children:"Login to your account"})}),(0,o.jsx)(c.xu,{boxShadow:"lg",p:8,className:"border bg-black",children:(0,o.jsx)(q.J9,{initialValues:{usernameOrEmail:"",password:""},onSubmit:function(){var n=U(i().mark((function n(t,o){var s,l,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=o.setErrors,n.next=4,r({username:t.usernameOrEmail,password:t.password});case 4:c=n.sent,(null===(l=c.data)||void 0===l?void 0:l.login.errors)?s(O(c.data.login.errors)):(null===(a=c.data)||void 0===a?void 0:a.login.user)&&("string"===typeof e.query.next?e.push(e.query.next):e.replace("/noon"));case 6:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),children:function(e){var r=e.isSubmitting;return(0,o.jsx)(q.l0,{children:(0,o.jsxs)(l.Kq,{spacing:4,className:"text-white",children:[(0,o.jsx)(u.NI,{id:"email",children:(0,o.jsx)(E.U,{name:"usernameOrEmail",label:"Username or Email"})}),(0,o.jsx)(u.NI,{id:"password",children:(0,o.jsx)(E.U,{name:"password",label:"Password",type:"password"})}),(0,o.jsxs)(l.Kq,{spacing:10,children:[(0,o.jsxs)(l.Kq,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between",children:[(0,o.jsx)(d.X,{children:"Remember me"}),(0,o.jsx)(f.r,{color:"blue.400",onClick:function(){A(!1),T(!1),F(!0)},children:"Forgot password?"})]}),(0,o.jsx)(h.z,{size:"lg",bg:"green.400",color:"white",_hover:{bg:"green.900"},type:"submit",isLoading:r,children:"Login"})]})]})})}})}),(0,o.jsx)(m.x,{className:"text-lg text-green-100 cursor-pointer",onClick:function(){T(!0),A(!1)},children:"Register?"})]}),(0,o.jsxs)(l.Kq,{spacing:8,mx:"auto",maxW:"lg",py:12,px:6,hidden:!C,children:[(0,o.jsx)(l.Kq,{align:"center",children:(0,o.jsx)(a.X,{fontSize:"4xl",textAlign:"center",children:"Register"})}),(0,o.jsx)(c.xu,{boxShadow:"lg",p:8,className:"border bg-black",children:(0,o.jsx)(q.J9,{initialValues:{email:"",username:"",password:""},validationSchema:K,onSubmit:function(){var r=U(i().mark((function r(t,o){var s,l,a,c,u;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=o.setErrors,console.log(t),r.next=5,n({options:t});case 5:u=r.sent,console.log("register response: ",null===(l=u.data)||void 0===l?void 0:l.register.errors),(null===(a=u.data)||void 0===a?void 0:a.register.errors)?(console.log("register response: ",u.data),s(O(u.data.register.errors))):(null===(c=u.data)||void 0===c?void 0:c.register.user)&&e.replace("/noon");case 8:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),children:function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));return(0,o.jsx)(q.l0,{children:(0,o.jsxs)(l.Kq,{spacing:4,children:[(0,o.jsx)(l.Ug,{children:(0,o.jsx)(c.xu,{children:(0,o.jsx)(u.NI,{id:"username",isRequired:!0,children:(0,o.jsx)(E.U,{name:"username",placeholder:"username",label:"Username"})})})}),(0,o.jsxs)(u.NI,{id:"email",isRequired:!0,children:[(0,o.jsx)(x.l,{children:"Email address"}),(0,o.jsx)(E.U,{name:"email",placeholder:"",label:""})]}),(0,o.jsxs)(u.NI,{id:"password",isRequired:!0,children:[(0,o.jsx)(x.l,{children:"Password"}),(0,o.jsxs)(p.B,{children:[(0,o.jsx)(E.U,{name:"password",type:j?"text":"password",placeholder:"",label:""}),(0,o.jsx)(g.x,{h:"full",className:"mt-1",children:(0,o.jsx)(h.z,{variant:"ghost",onClick:function(){return v((function(e){return!e}))},children:j?(0,o.jsx)(w.O,{}):(0,o.jsx)(S.t,{})})})]})]}),(0,o.jsx)(l.Kq,{spacing:10,pt:2,children:(0,o.jsx)(h.z,{type:"submit",loadingText:"Submitting",size:"lg",bg:"green.400",color:"white",_hover:{bg:"green.900"},children:"Register"})})]})})}})}),(0,o.jsx)(m.x,{className:"text-lg text-green-100 cursor-pointer",onClick:function(){A(!0),T(!1)},children:"Login?"})]}),(0,o.jsxs)(l.Kq,{spacing:4,w:"full",maxW:"md",rounded:"xl",boxShadow:"lg",p:6,my:12,className:"bg-black",hidden:!L,children:[(0,o.jsx)(a.X,{lineHeight:1.1,fontSize:{base:"2xl",md:"3xl"},children:"Forgot your password?"}),(0,o.jsx)(m.x,{fontSize:{base:"sm",sm:"md"},children:"You'll get an email with a reset link"}),(0,o.jsx)(u.NI,{id:"email",children:(0,o.jsx)(b.I,{placeholder:"your-email@example.com",_placeholder:{color:"gray.500"},type:"email"})}),(0,o.jsx)(l.Kq,{spacing:6,children:(0,o.jsx)(h.z,{bg:"blue.400",color:"white",_hover:{bg:"blue.500"},children:"Request Reset"})}),(0,o.jsx)(m.x,{className:"text-lg text-green-100 cursor-pointer",onClick:function(){A(!0),T(!1),F(!1)},children:"Back"})]})]})]})}))}},function(e){e.O(0,[774,263,54,227,380,34,888,179],(function(){return r=7333,e(e.s=r);var r}));var r=e.O();_N_E=r}]);