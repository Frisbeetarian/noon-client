"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{5041:function(e,t,n){n.r(t),n.d(t,{JaaSMeeting:function(){return p},JitsiMeeting:function(){return l}});var r=n(5893),o=n(7294);var i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{s(r.next(e))}catch(t){i(t)}}function a(e){try{s(r.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((r=r.apply(e,t||[])).next())}))};let c;const a=(e="meet.jit.si")=>c||(c=(e=>i(void 0,void 0,void 0,(function*(){return new Promise(((t,n)=>{if(window.JitsiMeetExternalAPI)return t(window.JitsiMeetExternalAPI);const r=document.createElement("script");r.async=!0,r.src=`https://${e}/external_api.js`,r.onload=()=>t(window.JitsiMeetExternalAPI),r.onerror=()=>n(new Error(`Script load error: ${r.src}`)),document.head.appendChild(r)}))})))(e),c),s=(e,t)=>t?`${t}/${e}`:e,u=e=>e?"stage.8x8.vc":"8x8.vc";let f=0;var l=({domain:e="meet.jit.si",roomName:t,configOverwrite:n,interfaceConfigOverwrite:i,jwt:c,invitees:s,devices:u,userInfo:l,release:d,spinner:p,onApiReady:v,onReadyToClose:m,getIFrameRef:w})=>{const[g,y]=(0,o.useState)(""),[h,j]=(0,o.useState)(!0),[x,O]=(0,o.useState)(!1),b=(0,o.useRef)(),E=(0,o.useRef)(),C=(0,o.useRef)(null);(0,o.useEffect)((()=>{y(`${"jitsiMeeting"}-${f++}`),a(e).then((e=>{b.current=e,O(!0)})).catch((e=>console.error(e.message)))}),[]);const I=(0,o.useCallback)((r=>{E.current=new r(e,{roomName:t,configOverwrite:n,interfaceConfigOverwrite:i,jwt:c,invitees:s,devices:u,userInfo:l,release:d,parentNode:C.current}),j(!1),E.current&&("function"===typeof v&&v(E.current),E.current.on("readyToClose",(()=>{"function"===typeof m&&m()})),C.current&&"function"===typeof w&&w(C.current))}),[E,C,v,m,w,e,t,n,i,c,s,u,l]);(0,o.useEffect)((()=>{x&&!E.current&&b.current&&I(b.current)}),[x,I]);const S=(0,o.useCallback)((()=>p?!h||E.current?null:(0,r.jsx)(p,{},void 0):null),[p,E.current]);return(0,r.jsxs)(r.Fragment,{children:[S(),(0,r.jsx)("div",{id:g,ref:C},g)]},void 0)},d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var p=e=>{var{appId:t,roomName:n,useStaging:o,release:i}=e,c=d(e,["appId","roomName","useStaging","release"]);return(0,r.jsx)(l,Object.assign({domain:u(o),roomName:s(n,t),release:i},c),void 0)}}}]);